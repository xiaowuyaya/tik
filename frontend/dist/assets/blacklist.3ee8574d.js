/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css               *//* empty css               */import{d as R,g as k,f as H,ap as z,c as h,b as u,w as e,i as K,M as C,a1 as L,D as N,o as B,a7 as q,a8 as G,j as J,n as l,K as b,k as f,a as s,al as P,ar as Q,as as W,ab as X,ac as Z,F as uu,aa as eu,p as tu,a6 as au,B as ou,an as nu,at as su,au as lu,av as ru}from"./index.1f476c61.js";import{u as mu}from"./blacklist.fd4761ce.js";import{u as du}from"./user.42c413bc.js";import{e as iu}from"./options.cdf8f011.js";import{_ as cu}from"./_plugin-vue_export-helper.cdc0426e.js";import"./request.c7b83a79.js";const E=_=>(lu("data-v-ac3d45d5"),_=_(),ru(),_),_u={class:"flex flex-col w-full h-full"},Fu=l("\u62C9\u9ED1"),pu=l("\u5237\u65B0"),fu=l("\u5BFC\u5165\u65E7\u7248\u6570\u636E"),Eu={class:"custom-filter"},Du={class:"custom-filter-footer"},Cu=l("\u641C\u7D22"),Bu=l("\u91CD\u7F6E"),bu=l("\u5220\u9664"),vu=l(" serendipity \u9ED1\u540D\u5355\u5907\u4EFD\u6587\u4EF6\u5BFC\u5165 "),Au=E(()=>s("p",null,"1. \u6253\u5F00\u65E7\u7248\u672Cserendipity\u7A0B\u5E8F",-1)),ku=E(()=>s("p",null,"2. \u70B9\u51FB\u53F3\u4E0A\u89D2\u8BBE\u7F6E-\u6253\u5F00\u914D\u7F6E\u8DEF\u5F84-\u5728\u914D\u7F6E\u8DEF\u5F84\u4E0B\u627E\u5230bans.bak.json\u6587\u4EF6\uFF0C\u8BB0\u4F4F\u8FD9\u4E2A\u8DEF\u5F84\uFF01",-1)),hu=E(()=>s("p",null,"3. \u70B9\u51FB\u5F00\u59CB\u5BFC\u5165\uFF0C\u9009\u4E2Dbans.bak.json\u6587\u4EF6\u5F00\u59CB\u5BFC\u5165\u64CD\u4F5C",-1)),Nu=E(()=>s("p",{class:"text-red-500"}," \u6CE8\u610F\uFF1A\u4EC5\u5BFC\u5165\u5F53\u524D\u8D26\u53F7\u6240\u767B\u5165\u8FC7\u5927\u533A\u7684\u9ED1\u540D\u5355\u4FE1\u606F\uFF0C\u5982\u679C\u5F53\u524D\u8D26\u53F7\u4E0B\u4ECE\u672A\u767B\u5165\u8FC7\u9ED1\u540D\u5355\u4E2D\u5B58\u5728\u7684\u5927\u533A\u5C06\u4F1A\u5BFC\u5165\u5931\u8D25\uFF01 ",-1)),yu={class:"text-red-500"},Iu=R({__name:"blacklist",setup(_){const i=mu(),r=du(),D=k(!1),n=H({environment:"",summonerName:"",summonerId:"",banName:"",reason:""}),y=k({x:"100%",y:"460px"}),I=[{title:"\u5927\u533A",dataIndex:"environment",width:90},{title:"\u8D26\u53F7",dataIndex:"summonerName",width:140},{title:"\u62C9\u9ED1\u73A9\u5BB6",dataIndex:"banName",width:140,filterable:{filter:(a,t)=>t.banName.includes(a),slotName:"name-filter",icon:()=>Q(W)}},{title:"\u539F\u56E0",dataIndex:"reason"},{title:"\u62C9\u9ED1\u65F6\u95F4",slotName:"createdAt",width:150,sortable:{sortDirections:["ascend","descend"]}},{title:"\u64CD\u4F5C",slotName:"optional",width:86}];z(async()=>{r.environment&&(n.environment=r.environment),r.summonerName&&(n.summonerName=r.summonerName),r.summonerId&&(n.summonerId=r.summonerId),await i.getAll()});const w=async()=>{let a="";if(n.environment==""&&(a+="\u6240\u5728\u5927\u533A "),n.summonerName==""&&(a+="\u8D26\u53F7 "),n.banName==""&&(a+="\u62C9\u9ED1\u73A9\u5BB6 "),a!=""){C.error({content:`${a}\u4E0D\u53EF\u4E3A\u7A7A`,duration:3*1e3});return}await i.add(n)},x=async()=>{await i.getAll()},g=async a=>{N.info({title:"\u5220\u9664\u9ED1\u540D\u5355",content:`\u662F\u5426\u786E\u5B9A\u5C06: ${a.banName}\uFF0C \u79FB\u9664\u9ED1\u540D\u5355`,hideCancel:!1,cancelText:"\u53D6\u6D88",onOk:()=>{i.delete({ids:[a.id]})}})},V=async()=>{const a=await K.invoke("controller.common.importBlacklistData",{});if(a.code==200){for(var t=0;t<a.data.length;t++)await i.add({environment:a.data[t].environment,summonerId:"",summonerName:a.data[t].summonerName,banName:a.data[t].blackName,reason:a.data[t].reason});C.success({content:"\u8BFB\u53D6\u9ED1\u540D\u5355\u5907\u4EFD\u6587\u4EF6\u6210\u529F",duration:3*1e3})}else C.error({content:`\u8BFB\u53D6\u9ED1\u540D\u5355\u5907\u4EFD\u6587\u4EF6\u5931\u8D25:${a.msg}`,duration:3*1e3})};return(a,t)=>{const S=X,M=Z,m=uu,d=eu,F=tu,v=au,c=ou,A=L,U=nu,$=su,j=N;return B(),h("div",_u,[u(A,{hoverable:!0,"header-style":{border:"none"}},{default:e(()=>[u(v,{gutter:24,align:"center"},{default:e(()=>[u(d,{span:8},{default:e(()=>[u(m,{field:"useForm.environment",label:"\u6240\u5728\u5927\u533A"},{default:e(()=>[u(M,{modelValue:n.environment,"onUpdate:modelValue":t[0]||(t[0]=o=>n.environment=o),placeholder:"\u8BF7\u8F93\u5165\u6240\u5728\u5927\u533A","allow-create":""},{default:e(()=>[(B(!0),h(q,null,G(f(iu),(o,p)=>(B(),J(S,{key:p},{default:e(()=>[l(b(o),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(d,{span:8},{default:e(()=>[u(m,{field:"useForm.summonerName",label:"\u8D26\u53F7"},{default:e(()=>[u(F,{modelValue:n.summonerName,"onUpdate:modelValue":t[1]||(t[1]=o=>n.summonerName=o),placeholder:"\u9700\u8981\u7ED1\u5B9A\u7684\u73A9\u5BB6"},null,8,["modelValue"])]),_:1})]),_:1}),u(d,{span:8},{default:e(()=>[u(m,{field:"useForm.banName",label:"\u62C9\u9ED1\u73A9\u5BB6"},{default:e(()=>[u(F,{modelValue:n.banName,"onUpdate:modelValue":t[2]||(t[2]=o=>n.banName=o),placeholder:"\u62C9\u9ED1\u73A9\u5BB6\u7684\u6E38\u620F\u540D"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),u(v,{gutter:20,align:"center"},{default:e(()=>[u(d,{span:16},{default:e(()=>[u(m,{class:"!mb-0",field:"useForm.reason",label:"\u62C9\u9ED1\u539F\u56E0"},{default:e(()=>[u(F,{modelValue:n.reason,"onUpdate:modelValue":t[3]||(t[3]=o=>n.reason=o),placeholder:"\u4ED6\u505A\u4E86\u4EC0\u4E48\uFF1F"},null,8,["modelValue"])]),_:1})]),_:1}),u(d,{span:2},{default:e(()=>[u(m,{class:"!mb-0"},{default:e(()=>[u(c,{type:"primary",onClick:w},{default:e(()=>[Fu]),_:1})]),_:1})]),_:1}),u(d,{span:2},{default:e(()=>[u(m,{class:"!mb-0"},{default:e(()=>[u(c,{onClick:x},{default:e(()=>[pu]),_:1})]),_:1})]),_:1}),u(d,{span:2},{default:e(()=>[u(m,{class:"!mb-0"},{default:e(()=>[u(c,{onClick:t[4]||(t[4]=o=>D.value=!0)},{default:e(()=>[fu]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(A,{class:"mt-2",hoverable:!0,"header-style":{border:"none"}},{default:e(()=>[u($,{columns:I,data:f(i).list,size:"medium",scroll:y.value},{"name-filter":e(({filterValue:o,setFilterValue:p,handleFilterConfirm:O,handleFilterReset:T})=>[s("div",Eu,[u(U,{direction:"vertical"},{default:e(()=>[u(F,{"model-value":o[0],onInput:Y=>p([Y])},null,8,["model-value","onInput"]),s("div",Du,[u(c,{onClick:O},{default:e(()=>[Cu]),_:2},1032,["onClick"]),u(c,{onClick:T},{default:e(()=>[Bu]),_:2},1032,["onClick"])])]),_:2},1024)])]),createdAt:e(({record:o})=>[s("span",null,b(f(P)(o.createdAt).format("YYYY.MM.DD  HH:mm")),1)]),optional:e(({record:o})=>[u(c,{type:"primary",status:"danger",onClick:p=>g(o)},{default:e(()=>[bu]),_:2},1032,["onClick"])]),_:1},8,["data","scroll"])]),_:1}),u(j,{visible:D.value,"onUpdate:visible":t[5]||(t[5]=o=>D.value=o),onOk:V,"ok-text":"\u5F00\u59CB\u5BFC\u5165"},{title:e(()=>[vu]),default:e(()=>[s("div",null,[Au,ku,hu,Nu,s("p",yu," \u4F8B\u5982\uFF1A\u5982\u679C\u5F53\u524D\u8D26\u53F7"+b(f(r).username)+"\u4ECE\u672A\u5728 \u827E\u6B27\u5C3C\u4E9A \u73A9\u8FC7\uFF0C\u800C\u9ED1\u540D\u5355\u4E2D\u6709 \u827E\u6B27\u5C3C\u4E9A \u7684\u6570\u636E\uFF0C\u6B64\u6761\u6570\u636E\u5C06\u5BFC\u5165\u5931\u8D25 ",1)])]),_:1},8,["visible"])])}}});const Qu=cu(Iu,[["__scopeId","data-v-ac3d45d5"]]);export{Qu as default};
